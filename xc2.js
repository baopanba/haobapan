javascript:var Interval_ID;var num=0;function POST_TO_TIEBA(c,b){num++;Set_txt(num.toString());$.post("htt\u0070:\u002F/tieba.baidu.com/f/commit/thread/add ",{ie:"utf-8",kw:PageData.forum.forum_name,fid:PageData.forum.forum_id,tid:0,tbs:PageData.tbs,content:b,title:c},function(a){a=$.parseJSON(a);if(a.err_code==0){window.clearInterval(Interval_ID);location.reload()}})}function POST_TO_TIEZI(c,b){num++;Set_txt(num.toString());$.post("htt\u0070:\u002F/tieba.baidu.com/f/commit/post/add ",{ie:"utf-8",kw:PageData.forum.forum_name,fid:PageData.forum.forum_id,tid:PageData.thread.thread_id,quote_id:c,tbs:PageData.tbs,content:b},function(a){a=$.parseJSON(a);if(a.err_code==0){window.clearInterval(Interval_ID);location.reload()}})}function QiangZhiHuQFu(_pid,hf_name){config={content:prompt("请输入回帖内容","回复 "+hf_name+" :")||"",standby:prompt("请输入间隔时间（不可填0），单位：秒","0.001")||6,pid:prompt("请输入PID，可留空",_pid)||""},timer=1,cmfcfg='回帖内容:"'+config.content+'"\n',cmfcfg=cmfcfg+("\n时间间隔:"+config.standby+"s\n确认参数正确开始回复？");1==confirm("请核对参数后确认执行\n"+cmfcfg)?(Interval_ID=setInterval("POST_TO_TIEZI("+_pid+",'"+config.content+"');",config.standby*1000)):(alert("代码未执行，将重新刷新。"),location.reload())}function DODO_(){var ptsr=document.getElementsByClassName("p_author_name j_user_card");var pts=document.getElementsByClassName("d_post_content j_d_post_content");var dm="";for(var i=0;i<pts.length;i++){var pts_tostr=pts[i].id;var ids=pts_tostr.substr(pts[i].id.indexOf("nt_")+3,pts_tostr.length-pts[i].id.indexOf("t_")-3);dm=dm+"<a href=\"javascript:QiangZhiHuQFu("+ids+",\'"+ptsr[i].innerHTML+"\')\"><img src=\"http:\/\/img.itc.cn\/photo\/ofHsJlP0F8L\"></a>";pts[i].innerHTML=pts[i].innerHTML+dm;dm=""}}function Set_txt(txts){try{document.getElementsByClassName("search_ipt search_inp_border j_search_input tb_header_search_input")[0].value=txts}catch(e){}}var url=window.location.href;if(0<url.indexOf("tieba.baidu.com/f")){var config={title:prompt("请输入贴子标题","标题")||"",content:prompt("请输入回帖内容","内容")||"",standby:prompt("请输入间隔时间（不可填0），单位：秒","0.001")||6},timer=1,cmfcfg='回帖内容:"'+config.content+'"\n',cmfcfg=cmfcfg+("时间间隔:"+config.standby+"s\n确认参数正确开始发帖？");1==confirm("请核对参数后确认执行\n"+cmfcfg)?(Interval_ID=setInterval("POST_TO_TIEBA('"+config.title+"','"+config.content+"');",config.standby*1000)):(alert("代码未执行，将重新刷新。"),location.reload())}else if(0<url.indexOf("tieba.baidu.com/p")){DODO_()}
